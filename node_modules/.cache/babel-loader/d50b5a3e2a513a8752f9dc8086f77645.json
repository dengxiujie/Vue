{"remainingRequest":"C:\\Users\\ma\\Desktop\\vue\\vue-item\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ma\\Desktop\\vue\\vue-item\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\ma\\Desktop\\vue\\vue-item\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\ma\\Desktop\\vue\\vue-item\\src\\router\\index.js","mtime":1570871177000},{"path":"C:\\Users\\ma\\Desktop\\vue\\vue-item\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ma\\Desktop\\vue\\vue-item\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ma\\Desktop\\vue\\vue-item\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport Cookies from \"js-cookie\";\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  routes: [{\n    path: \"/\",\n    name: \"home\",\n    redirect: \"/main\",\n    component: function component() {\n      return import(\"@/view/Home\");\n    },\n    children: [{\n      path: \"/main\",\n      name: \"main\",\n      component: function component() {\n        return import(\"@/view/Main/Main\");\n      }\n    }]\n  }, {\n    path: \"/Login\",\n    name: \"Login\",\n    component: function component() {\n      return import(\"@/view/Login\");\n    }\n  }, {\n    path: \"*\",\n    name: \"notfind\",\n    component: function component() {\n      return import(\"@/view/404\");\n    }\n  }]\n}); //跳转之前判断有没有token没有跳转登录\n\nrouter.beforeEach(function (to, from, next) {\n  // 登录界面登录成功之后，会把用户信息保存在会话\n  // 存在时间为会话生命周期，页面关闭即失效。\n  var token = Cookies.get('token');\n\n  if (to.path === '/login') {\n    // 如果是访问登录界面，如果用户会话信息存在，代表已登录过，跳转到主页\n    if (token) {\n      next({\n        path: '/'\n      });\n    } else {\n      next();\n    }\n  } else {\n    console.log(1111);\n\n    if (!token) {\n      // 如果访问非登录界面，且户会话信息不存在，代表未登录，则跳转到登录界面\n      next({\n        path: '/login'\n      });\n    } else {\n      next();\n    }\n  }\n});\nexport default router;",{"version":3,"sources":["C:/Users/ma/Desktop/vue/vue-item/src/router/index.js"],"names":["Vue","Router","Cookies","use","router","mode","routes","path","name","redirect","component","children","beforeEach","to","from","next","token","get","console","log"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACAF,GAAG,CAACG,GAAJ,CAAQF,MAAR;AACA,IAAMG,MAAM,GAAG,IAAIH,MAAJ,CAAW;AACtBI,EAAAA,IAAI,EAAE,SADgB;AAEtBC,EAAAA,MAAM,EAAC,CACH;AACIC,IAAAA,IAAI,EAAC,GADT;AAEIC,IAAAA,IAAI,EAAC,MAFT;AAGIC,IAAAA,QAAQ,EAAC,OAHb;AAIIC,IAAAA,SAAS,EAAC;AAAA,aAAI,OAAO,aAAP,CAAJ;AAAA,KAJd;AAKIC,IAAAA,QAAQ,EAAC,CAAC;AACRJ,MAAAA,IAAI,EAAC,OADG;AAERC,MAAAA,IAAI,EAAC,MAFG;AAGRE,MAAAA,SAAS,EAAC;AAAA,eAAI,OAAO,kBAAP,CAAJ;AAAA;AAHF,KAAD;AALb,GADG,EAcH;AACIH,IAAAA,IAAI,EAAC,QADT;AAEIC,IAAAA,IAAI,EAAC,OAFT;AAGIE,IAAAA,SAAS,EAAC;AAAA,aAAI,OAAO,cAAP,CAAJ;AAAA;AAHd,GAdG,EAoBH;AACIH,IAAAA,IAAI,EAAC,GADT;AAEIC,IAAAA,IAAI,EAAC,SAFT;AAGIE,IAAAA,SAAS,EAAC;AAAA,aAAI,OAAO,YAAP,CAAJ;AAAA;AAHd,GApBG;AAFe,CAAX,CAAf,C,CA8BA;;AACAN,MAAM,CAACQ,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC;AACA;AACA,MAAIC,KAAK,GAAGd,OAAO,CAACe,GAAR,CAAY,OAAZ,CAAZ;;AACA,MAAIJ,EAAE,CAACN,IAAH,KAAY,QAAhB,EAA0B;AACxB;AACA,QAAGS,KAAH,EAAU;AACRD,MAAAA,IAAI,CAAC;AAAER,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACD,KAFD,MAEO;AACLQ,MAAAA,IAAI;AACL;AACF,GAPD,MAOO;AACLG,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;;AACA,QAAI,CAACH,KAAL,EAAY;AACV;AACAD,MAAAA,IAAI,CAAC;AAAER,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACD,KAHD,MAGO;AACLQ,MAAAA,IAAI;AACL;AACF;AACF,CApBH;AAsBA,eAAeX,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport Cookies from \"js-cookie\";\nVue.use(Router)\nconst router = new Router({\n    mode: 'history',\n    routes:[\n        {\n            path:\"/\",\n            name:\"home\",\n            redirect:\"/main\",\n            component:()=>import(\"@/view/Home\"),\n            children:[{\n              path:\"/main\",\n              name:\"main\",\n              component:()=>import(\"@/view/Main/Main\"), \n            }\n          ]\n\n        },\n        {\n            path:\"/Login\",\n            name:\"Login\",\n            component:()=>import(\"@/view/Login\")\n\n        },\n        {\n            path:\"*\",\n            name:\"notfind\",\n            component:()=>import(\"@/view/404\")\n\n        },\n    ]\n})\n//跳转之前判断有没有token没有跳转登录\nrouter.beforeEach((to, from, next) => {\n    // 登录界面登录成功之后，会把用户信息保存在会话\n    // 存在时间为会话生命周期，页面关闭即失效。\n    let token = Cookies.get('token')\n    if (to.path === '/login') {\n      // 如果是访问登录界面，如果用户会话信息存在，代表已登录过，跳转到主页\n      if(token) {\n        next({ path: '/' })\n      } else {\n        next()\n      }\n    } else {\n      console.log(1111)\n      if (!token) {\n        // 如果访问非登录界面，且户会话信息不存在，代表未登录，则跳转到登录界面\n        next({ path: '/login' })\n      } else {\n        next()\n      }\n    }\n  })\n\nexport default router\n"]}]}