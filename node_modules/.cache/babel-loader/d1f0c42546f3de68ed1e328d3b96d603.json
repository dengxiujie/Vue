{"remainingRequest":"C:\\Users\\ma\\Desktop\\items\\Vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ma\\Desktop\\items\\Vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ma\\Desktop\\items\\Vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ma\\Desktop\\items\\Vue\\src\\view\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ma\\Desktop\\items\\Vue\\src\\view\\Login.vue","mtime":1570979873473},{"path":"C:\\Users\\ma\\Desktop\\items\\Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ma\\Desktop\\items\\Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ma\\Desktop\\items\\Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ma\\Desktop\\items\\Vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"C:\\\\Users\\\\ma\\\\Desktop\\\\items\\\\Vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport mock from \"@/mock/index.js\";\nimport { mapState } from 'vuex';\nimport Cookies from \"js-cookie\";\nimport LangSelector from \"@/components/LangSelector\";\nexport default {\n  name: 'Login',\n  components: {\n    LangSelector: LangSelector\n  },\n  data: function data() {\n    return {\n      loading: false,\n      loginForm: {\n        account: 'admin',\n        password: 'admin',\n        captcha: '',\n        src: ''\n      },\n      fieldRules: {\n        account: [{\n          required: true,\n          message: '请输入账号',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }] // ,\n        // captcha: [\n        //   { required: true, message: '请输入验证码', trigger: 'blur' }\n        // ]\n\n      },\n      checked: true\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      this.loading = true;\n      var userInfo = {\n        account: this.loginForm.account,\n        password: this.loginForm.password,\n        captcha: this.loginForm.captcha\n      };\n      this.$axios.login.login(userInfo).then(function (res) {\n        if (res.msg != null) {\n          _this.$message({\n            message: res.msg,\n            type: 'error'\n          });\n        } else {\n          Cookies.set('token', res.data.token); // 放置token到Cookie\n\n          sessionStorage.setItem('user', userInfo.account); // 保存用户到本地会话\n          // this.$store.commit('menuRouteLoaded', false) // 要求重新加载导航菜单\n\n          _this.$router.push('/'); // 登录成功，跳转到主页\n\n        }\n\n        _this.loading = false;\n      }).catch(function (res) {\n        _this.$message({\n          message: res.message,\n          type: 'error'\n        });\n      });\n    },\n    refreshCaptcha: function refreshCaptcha() {\n      this.loginForm.src = this.global.baseUrl + \"/captcha.jpg?t=\" + new Date().getTime();\n    },\n    reset: function reset() {\n      this.$refs.loginForm.resetFields();\n    },\n    // 切换主题\n    onThemeChange: function onThemeChange(themeColor) {\n      this.$store.commit('setThemeColor', themeColor);\n    }\n  },\n  mounted: function mounted() {\n    this.refreshCaptcha();\n  },\n  computed: _objectSpread({}, mapState({\n    themeColor: function themeColor(state) {\n      return state.app.themeColor;\n    }\n  }))\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-form :model=\"loginForm\" :rules=\"fieldRules\" ref=\"loginForm\" label-position=\"left\" label-width=\"0px\" class=\"demo-ruleForm login-container\">\r\n    <span class=\"tool-bar\">\r\n      <!-- 主题切换 -->\r\n      <!-- <theme-picker style=\"float:right;\" class=\"theme-picker\" :default=\"themeColor\" @onThemeChange=\"onThemeChange\"></theme-picker> -->\r\n      <!-- 语言切换 -->\r\n    <lang-selector class=\"lang-selector\"></lang-selector> \r\n    </span>\r\n    <h2 class=\"title\" style=\"padding-left:22px;\" >{{$t('common.SystemLogin')}}</h2>\r\n    <el-form-item prop=\"account\">\r\n      <el-input type=\"text\" v-model=\"loginForm.account\" auto-complete=\"off\" :placeholder=\"$t('common.Account')\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item prop=\"password\">\r\n      <el-input type=\"password\" v-model=\"loginForm.password\" auto-complete=\"off\" :placeholder=\"$t('common.Password')\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item >\r\n      <el-col :span=\"12\">\r\n        <el-form-item prop=\"captcha\">\r\n          <el-input type=\"test\" v-model=\"loginForm.captcha\" auto-complete=\"off\" :placeholder=\"$t('common.code')\"\r\n            style=\"width: 100%;\">\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-col>\r\n      <el-col class=\"line\" :span=\"1\">&nbsp;</el-col>\r\n      <el-col :span=\"11\">\r\n        <el-form-item>\r\n            <img style=\"width: 100%;\" class=\"pointer\" :src=\"loginForm.src\" @click=\"refreshCaptcha\">\r\n        </el-form-item>\r\n      </el-col>\r\n    </el-form-item>\r\n     <el-checkbox v-model=\"checked\" checked class=\"remember\">{{$t('common.Remember')}}</el-checkbox>\r\n    <el-form-item style=\"width:100%;\">\r\n      <el-button type=\"primary\" style=\"width:48%;\" @click.native.prevent=\"reset\">{{$t('common.Reset')}}</el-button>\r\n      <el-button type=\"primary\" style=\"width:48%;\" @click.native.prevent=\"login\" :loading=\"loading\">{{$t('common.login')}}</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport mock from \"@/mock/index.js\";\r\nimport { mapState } from 'vuex'\r\nimport Cookies from \"js-cookie\"\r\nimport LangSelector from \"@/components/LangSelector\"\r\nexport default {\r\n  name: 'Login',\r\n  components:{\r\n    LangSelector\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loginForm: {\r\n        account: 'admin',\r\n        password: 'admin',\r\n        captcha:'',\r\n        src: ''\r\n      },\r\n      fieldRules: {\r\n        account: [\r\n          { required: true, message: '请输入账号', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' }\r\n        ]\r\n        // ,\r\n        // captcha: [\r\n        //   { required: true, message: '请输入验证码', trigger: 'blur' }\r\n        // ]\r\n      },\r\n      checked: true\r\n    }\r\n  },\r\n  methods: {\r\n    login() {\r\n      this.loading = true\r\n      let userInfo = {account:this.loginForm.account, password:this.loginForm.password, captcha:this.loginForm.captcha}\r\n      this.$axios.login.login(userInfo).then((res) => {\r\n          if(res.msg != null) {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: 'error'\r\n            })\r\n          } else {\r\n             Cookies.set('token', res.data.token) // 放置token到Cookie\r\n             sessionStorage.setItem('user', userInfo.account) // 保存用户到本地会话\r\n            // this.$store.commit('menuRouteLoaded', false) // 要求重新加载导航菜单\r\n            this.$router.push('/')  // 登录成功，跳转到主页\r\n          }\r\n          this.loading = false\r\n        }).catch((res) => {\r\n          this.$message({\r\n          message: res.message,\r\n          type: 'error'\r\n          })\r\n        });\r\n    },\r\n    refreshCaptcha: function(){\r\n      this.loginForm.src = this.global.baseUrl + \"/captcha.jpg?t=\" + new Date().getTime();\r\n    },\r\n    reset() {\r\n      this.$refs.loginForm.resetFields()\r\n    },\r\n    // 切换主题\r\n    onThemeChange: function(themeColor) {\r\n      this.$store.commit('setThemeColor', themeColor)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.refreshCaptcha()\r\n  },\r\n  computed:{\r\n    ...mapState({\r\n      themeColor: state=>state.app.themeColor\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .login-container {\r\n    -webkit-border-radius: 5px;\r\n    border-radius: 5px;\r\n    -moz-border-radius: 5px;\r\n    background-clip: padding-box;\r\n    margin: 100px auto;\r\n    width: 350px;\r\n    padding: 35px 35px 15px 35px;\r\n    background: #fff;\r\n    border: 1px solid #eaeaea;\r\n    box-shadow: 0 0 25px #cac6c6;\r\n    .title {\r\n      margin: 0px auto 30px auto;\r\n      text-align: center;\r\n      color: #505458;\r\n    }\r\n    .remember {\r\n      margin: 0px 0px 35px 0px;\r\n    }\r\n  }\r\n  .lang-selector{\r\n      width:32px!important;\r\n      padding:6px;\r\n     float:right;\r\n     background:#409Eff\r\n  }\r\n  .lang-selector[data-v-0695e340]:hover {\r\n    background: #409Eff;\r\n}\r\n</style>"],"sourceRoot":"src/view"}]}